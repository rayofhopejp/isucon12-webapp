/home/isucon/webapp/ruby/app.rb:199:in `rescue in parse_viewer'
        /home/isucon/webapp/ruby/app.rb:157:in `parse_viewer'
        /home/isucon/webapp/ruby/app.rb:361:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:10.605993 #11] ERROR -- : error at /api/admin/tenants/add: JWT::ExpiredSignature: Signature has expired
127.0.0.1 - - [07/Dec/2024:06:51:10 +0000] "POST /api/admin/tenants/add HTTP/1.1" 401 16 0.0356
127.0.0.1 - - [07/Dec/2024:06:51:10 +0000] "POST /api/admin/tenants/add HTTP/1.1" 200 127 0.0530
127.0.0.1 - - [07/Dec/2024:06:51:10 +0000] "POST /api/admin/tenants/add HTTP/1.1" 200 131 0.0870
127.0.0.1 - - [07/Dec/2024:06:51:10 +0000] "POST /api/organizer/competitions/add HTTP/1.1" 200 128 0.0477
2024-12-07 06:51:10 - Isuports::App::HttpError - JWT::VerificationError: Signature verification failed:
        /home/isucon/webapp/ruby/app.rb:199:in `rescue in parse_viewer'
        /home/isucon/webapp/ruby/app.rb:157:in `parse_viewer'
        /home/isucon/webapp/ruby/app.rb:361:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:10.904912 #11] ERROR -- : error at /api/admin/tenants/add: JWT::VerificationError: Signature verification failed
127.0.0.1 - - [07/Dec/2024:06:51:10 +0000] "POST /api/admin/tenants/add HTTP/1.1" 401 16 0.0058
2024-12-07 06:51:10 - Isuports::App::HttpError - JWT::IncorrectAlgorithm: Expected a different algorithm:
        /home/isucon/webapp/ruby/app.rb:199:in `rescue in parse_viewer'
        /home/isucon/webapp/ruby/app.rb:157:in `parse_viewer'
        /home/isucon/webapp/ruby/app.rb:361:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:10.916009 #9] ERROR -- : error at /api/admin/tenants/add: JWT::IncorrectAlgorithm: Expected a different algorithm
127.0.0.1 - - [07/Dec/2024:06:51:10 +0000] "POST /api/admin/tenants/add HTTP/1.1" 401 16 0.0023
127.0.0.1 - - [07/Dec/2024:06:51:11 +0000] "POST /api/admin/tenants/add HTTP/1.1" 200 132 0.0876
2024-12-07 06:51:11 - Isuports::App::HttpError - tenant not found:
        /home/isucon/webapp/ruby/app.rb:215:in `retrieve_tenant_row_from_header'
        /home/isucon/webapp/ruby/app.rb:184:in `parse_viewer'
        /home/isucon/webapp/ruby/app.rb:544:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:11.029168 #9] ERROR -- : error at /api/organizer/competitions/add: tenant not found
127.0.0.1 - - [07/Dec/2024:06:51:11 +0000] "POST /api/organizer/competitions/add HTTP/1.1" 401 16 0.0088
2024-12-07 06:51:11 - Isuports::App::HttpError - player not found:
        /home/isucon/webapp/ruby/app.rb:237:in `authorize_player!'
        /home/isucon/webapp/ruby/app.rb:858:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:857:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:11.049253 #11] ERROR -- : error at /api/player/competitions: player not found
127.0.0.1 - - [07/Dec/2024:06:51:11 +0000] "GET /api/player/competitions HTTP/1.1" 401 16 0.0228
127.0.0.1 - - [07/Dec/2024:06:51:11 +0000] "GET /api/admin/tenants/billing?before=29 HTTP/1.1" 200 960 1.0231
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/organizer/players/add HTTP/1.1" 200 7726 2.2069
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "GET /api/organizer/players HTTP/1.1" 200 7726 0.0025
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/organizer/competitions/add HTTP/1.1" 200 107 0.0212
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/organizer/player/9fa5251c/disqualified HTTP/1.1" 200 109 0.0111
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/organizer/players/add HTTP/1.1" 200 7726 2.2469
2024-12-07 06:51:12 - Isuports::App::HttpError - invalid tenant name: INVALID_TENANTID:
        /home/isucon/webapp/ruby/app.rb:274:in `validate_tenant_name!'
        /home/isucon/webapp/ruby/app.rb:372:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:12.940071 #11] ERROR -- : error at /api/admin/tenants/add: invalid tenant name: INVALID_TENANTID
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/admin/tenants/add HTTP/1.1" 400 16 0.0013
2024-12-07 06:51:12 - Isuports::App::HttpError - duplicate tenant:
        /home/isucon/webapp/ruby/app.rb:379:in `rescue in block in <class:App>'
        /home/isucon/webapp/ruby/app.rb:375:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:12.949044 #9] ERROR -- : error at /api/admin/tenants/add: duplicate tenant
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/admin/tenants/add HTTP/1.1" 400 16 0.0080
2024-12-07 06:51:12 - Isuports::App::HttpError - player not found:
        /home/isucon/webapp/ruby/app.rb:528:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:520:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:12.956507 #9] ERROR -- : error at /api/organizer/player/0000000000/disqualified: player not found
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/organizer/player/0000000000/disqualified HTTP/1.1" 404 16 0.0054
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/organizer/competitions/add HTTP/1.1" 200 105 0.0191
2024-12-07 06:51:12 - Isuports::App::HttpError - competition not found:
        /home/isucon/webapp/ruby/app.rb:603:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:598:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:12.979352 #9] ERROR -- : error at /api/organizer/competition/0000000000/score: competition not found
127.0.0.1 - - [07/Dec/2024:06:51:12 +0000] "POST /api/organizer/competition/0000000000/score HTTP/1.1" 404 16 0.0022
2024-12-07 06:51:13 - Isuports::App::HttpError - some player not found:
        /home/isucon/webapp/ruby/app.rb:656:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:598:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:13.006542 #11] ERROR -- : error at /api/organizer/competition/9fa52536/score: some player not found
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/competition/9fa52536/score HTTP/1.1" 400 16 0.0252
2024-12-07 06:51:13 - Isuports::App::HttpError - invalid CSV headers:
        /home/isucon/webapp/ruby/app.rb:618:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:598:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:13.012853 #11] ERROR -- : error at /api/organizer/competition/9fa52536/score: invalid CSV headers
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/competition/9fa52536/score HTTP/1.1" 400 16 0.0025
2024-12-07 06:51:13 - Isuports::App::HttpError - invalid CSV headers:
        /home/isucon/webapp/ruby/app.rb:618:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:598:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:13.021655 #9] ERROR -- : error at /api/organizer/competition/9fa52536/score: invalid CSV headers
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/competition/9fa52536/score HTTP/1.1" 400 16 0.0037
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/players/add HTTP/1.1" 200 7703 2.3377
2024-12-07 06:51:13 - Isuports::App::HttpError - player not found:
        /home/isucon/webapp/ruby/app.rb:732:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:726:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:13.030287 #9] ERROR -- : error at /api/player/player/0000000000: player not found
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "GET /api/player/player/0000000000 HTTP/1.1" 404 16 0.0063
2024-12-07 06:51:13 - Isuports::App::HttpError - competition not found:
        /home/isucon/webapp/ruby/app.rb:784:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:776:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:13.039934 #11] ERROR -- : error at /api/player/competition/0000000000/ranking: competition not found
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "GET /api/player/competition/0000000000/ranking HTTP/1.1" 404 16 0.0035
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/player/9fa5252d/disqualified HTTP/1.1" 200 109 0.0092
2024-12-07 06:51:13 - Isuports::App::HttpError - player is disqualified:
        /home/isucon/webapp/ruby/app.rb:240:in `authorize_player!'
        /home/isucon/webapp/ruby/app.rb:777:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:776:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:13.059959 #11] ERROR -- : error at /api/player/competition/9fa52536/ranking: player is disqualified
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "GET /api/player/competition/9fa52536/ranking HTTP/1.1" 403 16 0.0050
2024-12-07 06:51:13 - Isuports::App::HttpError - competition not found:
        /home/isucon/webapp/ruby/app.rb:580:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:576:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
E, [2024-12-07T06:51:13.067523 #9] ERROR -- : error at /api/organizer/competition/0000000000/finish: competition not found
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/competition/0000000000/finish HTTP/1.1" 404 16 0.0030
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/competition/9fa52536/finish HTTP/1.1" 200 15 0.0070
127.0.0.1 - - [07/Dec/2024:06:51:13 +0000] "POST /api/organizer/competition/9fa52536/score HTTP/1.1" 400 52 0.0030
2024-12-07 06:51:14 - SQLite3::SQLException - unrecognized token: "9fa52528":
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:152:in `initialize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:152:in `new'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:152:in `prepare'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:198:in `execute'
        /home/isucon/webapp/ruby/app.rb:666:in `block (3 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:267:in `block in flock_by_tenant_id'
        /home/isucon/webapp/ruby/app.rb:265:in `open'
        /home/isucon/webapp/ruby/app.rb:265:in `flock_by_tenant_id'
        /home/isucon/webapp/ruby/app.rb:659:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:598:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'
2024-12-07 06:51:14 - SQLite3::SQLException - unrecognized token: "9fa5253f":
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:152:in `initialize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:152:in `new'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:152:in `prepare'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:198:in `execute'
        /home/isucon/webapp/ruby/app.rb:666:in `block (3 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:267:in `block in flock_by_tenant_id'
        /home/isucon/webapp/ruby/app.rb:265:in `open'
        /home/isucon/webapp/ruby/app.rb:265:in `flock_by_tenant_id'
        /home/isucon/webapp/ruby/app.rb:659:in `block (2 levels) in <class:App>'
        /home/isucon/webapp/ruby/app.rb:122:in `block in connect_to_tenant_db'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sqlite3-1.4.4/lib/sqlite3/database.rb:110:in `initialize'
        /home/isucon/webapp/ruby/app.rb:120:in `new'
        /home/isucon/webapp/ruby/app.rb:120:in `connect_to_tenant_db'
        /home/isucon/webapp/ruby/app.rb:598:in `block in <class:App>'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1685:in `block in compile!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (3 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1042:in `route_eval'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1023:in `block (2 levels) in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1071:in `block in process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1069:in `process_route'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1021:in `block in route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `each'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1018:in `route!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1140:in `block in dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1135:in `dispatch!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `block in call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `block in invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `catch'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1112:in `invoke'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:949:in `call!'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:938:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/xss_header.rb:18:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/path_traversal.rb:16:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/json_csrf.rb:26:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/base.rb:50:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-protection-2.2.0/lib/rack/protection/frame_options.rb:31:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/logger.rb:17:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/common_logger.rb:38:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:255:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:248:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/rack-2.2.4/lib/rack/head.rb:12:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/show_exceptions.rb:22:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:218:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1992:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `block in call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1768:in `synchronize'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/sinatra-2.2.0/lib/sinatra/base.rb:1552:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/configuration.rb:252:in `call'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:77:in `block in handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:340:in `with_force_shutdown'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/request.rb:76:in `handle_request'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/server.rb:441:in `process_client'
        /home/isucon/tmp/ruby/gems/ruby/3.1.0/gems/puma-5.6.4/lib/puma/thread_pool.rb:147:in `block in spawn_thread'